<html>
<head>
    <meta name="viewport" content="width device-width, initial-scale = 1">
    <script type="text/javascript" src="checkFile.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <!--<script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.6.14.min.js""></script>-->
  <script	src="https://npmcdn.com/parse/dist/parse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/signature_pad/1.5.3/signature_pad.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   <!-- <link rel="stylesheet" href="style.css">-->
 <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <script src="products.js" type="text/javascript"></script>
    </head>
<body>
    <div class="container">
        <div class="page-header">
        <h1>New Invoice</h1>
        </div>
        <div class="jumbotron">
<form role="form" class="form-inline">
    <div class="form-group">
        <label>Product</label>
        <select class="form-control" id="select1">
        </select> &nbsp;
        <label>Quantity</label>
        <input type="text" id="q1" name="q1" class="form-control" size="3"/> &nbsp;
        X &nbsp; <label>Price</label>
        <input type="text" id="price1" name="price1" size="6" class="form-control" onblur="add1()"/> &nbsp;
        = &nbsp; <label>Total</label>
        <input type="text" id="total1" name="total1" size="6" class="form-control" readonly/>
    </div><br><br>
     <div class="form-group">
         <label>Product</label>
         <select class="form-control" id="select2">
         </select> &nbsp;
         <label>Quantity</label>
         <input type="text" id="q2" name="q2" class="form-control" size="3"/> &nbsp;
        X &nbsp; <label>Price</label>
        <input type="text" id="price2" name="price2" size="6" class="form-control" onblur="add2()"/> &nbsp;
        = &nbsp; <label>Total</label>
         <input type="text" id="total2" name="total2" size="6" class="form-control" readonly/>
    </div><br><br>
         <div class="form-group">
             <label>Product</label>
             <select class="form-control" id="select3">
             </select> &nbsp;
             <label>Quantity</label>
             <input type="text" id="q3" name="q3" class="form-control" size="3"/>  &nbsp;
        X &nbsp; <label>Price</label>
        <input type="text" id="price3" name="price3" size="6" class="form-control" onblur="add3()"/> &nbsp;
        = &nbsp; <label>Total</label>
             <input type="text" id="total3" name="total3" size="6" class="form-control" readonly/>
    </div><br><br>
             <div class="form-group">
                 <label>Product</label>
                 <select class="form-control" id="select4">
                 </select> &nbsp;
                 <label>Quantity</label>
                 <input type="text" id="q4" name="q4" class="form-control" size="3"/> &nbsp;
        X &nbsp; <label>Price</label>
        <input type="text" id="price4" name="price4" size="6" class="form-control" onblur="add4()"/> &nbsp;
        = &nbsp; <label>Total</label>
                 <input type="text" id="total4" name="total4" size="6" class="form-control" readonly/>
    </div><br><br>
                 <div class="form-group">
                     <label>Product</label>
                     <select class="form-control" id="select5">
                     </select> &nbsp;
                     <label>Quantity</label>
                     <input type="text" id="q5" name="q5" class="form-control" size="3"/> &nbsp;
        X &nbsp; <label>Price</label>
        <input type="text" id="price5" name="price5" size="6" class="form-control" onblur="add5()"/> &nbsp;
        = &nbsp; <label>Total</label>
                     <input type="text" id="total5" name="total5" size="6" class="form-control" readonly/>
    </div><br><br>
    <div class="form-group">
    <label>Total</label> &nbsp; = &nbsp; <input id="total" type="text" class="form-control" readonly/>
    </div><br><br>
<input type="reset" value="Reset" class="btn btn-danger"/>
            </form>
        <input id="signButton" type="submit" value="Add" class="btn btn-primary"/>
        </div>
        </div>
  <script type="text/javascript">
var select1 = document.getElementById("select1");
var select2 = document.getElementById("select2");
var select3 = document.getElementById("select3");
var select4 = document.getElementById("select4");
var select5 = document.getElementById("select5"); 
      
var option = '';
for (var i=0;i<products.length;i++){
   option += '<option value="'+ products[i] + '">' + products[i] + '</option>';
}
$('#select1').append(option);
      $('#select2').append(option);
      $('#select3').append(option);
      $('#select4').append(option);
      $('#select5').append(option);
      var tot = 0;
  var totalBar1 = 0; var totalBar2 = 0; var totalBar3 = 0; var totalBar4 = 0; var totalBar5 = 0;  
      function add1() {
          var p = $("#price1").val();
          var q = $("#q1").val();
           var pi = p;
          var qi = q;
          var t = qi*pi;
          var parseF = parseFloat(t);
         $("#total1").val(parseF);
          totalBar1 = t;
          add();
      }
      function add2() {
          var p = $("#price2").val();
          var q = $("#q2").val();
           var pi = p;
          var qi = q;
          var t = qi*pi;
          var parseF = parseFloat(t);
          $("#total2").val(parseF);
          totalBar2 = t;
          add();
      }
      function add3() {
          var p = $("#price3").val();
          var q = $("#q3").val();
           var pi = p;
          var qi = q;
          var t = qi*pi;
          var parseF = parseFloat(t);
          $("#total3").val(parseF);
          totalBar3 = t;
          add();
      } 
      function add4() {
          var p = $("#price4").val();
          var q = $("#q4").val();
           var pi = p;
          var qi = q;
          var t = qi*pi;
          var parseF = parseFloat(t);
          $("#total4").val(parseF);
          totalBar4 = t;
          add();
      }
      function add5() {
          var p = $("#price5").val();
          var q = $("#q5").val();
           var pi = p;
          var qi = q;
          var t = qi*pi;
          var parseF = parseFloat(t);
          $("#total5").val(parseF);
          totalBar5 = t;
          add();
      }
      function add() {
        tot = totalBar1 + totalBar2 + totalBar3 + totalBar4 + totalBar5;
      $("#total").val(tot.toFixed(2));
      }
      
      var receiptNumber = "";
  //Submit button takes you to the sign page and uploads the data on that page
	$('#signButton').click(function () {
        if (tot < 5) {
            alert("5.00 Limit");
        } else {
         receiptNumber = prompt("Please receipt number");
         if (receiptNumber == "") {
            alert("Please enter a receipt number");
        } else { totalF()} }
            
            function totalF() {
            if (confirm("Is this the right total? \u00A3" + tot.toFixed(2)) == true) {
    fin();
} else {
    alert("Please enter the right total");
}
        } });
     function fin() { 
var q1 = document.getElementById("q1").value;
var q2 = document.getElementById("q2").value;
var q3 = document.getElementById("q3").value;
var q4 = document.getElementById("q4").value;
var q5 = document.getElementById("q5").value;
        var select1 = document.getElementById("select1").value;
var select2 = document.getElementById("select2").value;
var select3 = document.getElementById("select3").value;
var select4 = document.getElementById("select4").value;
var select5 = document.getElementById("select5").value;
        var total1 = document.getElementById("total1").value;
var total2 = document.getElementById("total2").value;
var total3 = document.getElementById("total3").value;
var total4 = document.getElementById("total4").value;
var total5 = document.getElementById("total5").value;
        
        
      var qunArray = [q1, q2, q3, q4, q5];
        var selectArray = [select1, select2, select3, select4, select5];
         var totalArray = [total1, total2, total3, total4, total5];
        
    sessionStorage.setItem('quntity', JSON.stringify(qunArray));
        sessionStorage.setItem('product', JSON.stringify(selectArray));
            sessionStorage.setItem('total', JSON.stringify(totalArray));
            sessionStorage.setItem('receipt', receiptNumber);
        sessionStorage.setItem('Mtotal', tot);
        

        
    window.location.href = "sign.html";
        }
				</script>
 </body>
 </html>